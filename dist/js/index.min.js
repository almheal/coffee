const PLANTING_OPACITY_STEPS=4,PLANTING_DROP_BEAN_STEPS=6,PLANTING_ROTATE_HAND_STEPS=5,PLANTING_PHASE_STEPS=3,PLANTING_HAND_MAX_ROTATE=50,PLANTING_SECTION_STEPS=31,GROWING_FIRST_MOUNTAINS=4,GROWING_SECOND_MOUNTAINS=4,GROWING_TROPIC_TEXT=4,GROWING_SUBTROPIC_TEXT=4,GROWING_ROBUSTA_STEPS=8,GROWING_ARABICA_STEPS=8,GROWING_ROBUSTA_MAX_BOTTOM=240,GROWING_ARABICA_MAX_BOTTOM=420,GROWING_SECTION_STEPS=9,STEP_SIZE=100,addStyle=(t,e,o)=>{t.style[e]=o},calculateDistance=(t,e)=>t<e?0:parseInt((t-e)/100),plantingHand=document.querySelector("[data-planting-hand]"),plantingBean=document.querySelector("[data-planting-bean]"),plantingCircle=document.querySelector("[data-planting-circle]"),secondTopPhase=document.querySelector("[data-planting-second-top-phase]"),thirdTopPhase=document.querySelector("[data-planting-third-top-phase]"),secondBottomPhase=document.querySelector("[data-planting-second-bottom-phase]"),thirdBottomPhase=document.querySelector("[data-planting-third-bottom-phase]"),phaseSecondText=document.querySelector("[data-planting-second-text]"),phaseThirdText=document.querySelector("[data-planting-third-text]"),phaseBottomElements=[secondBottomPhase,thirdBottomPhase],phaseTopElements=[secondTopPhase,thirdTopPhase];function planting({scrollTop:t,elOffsetTop:e}){fivePhase(fourthPhase(thirdPhase(secondPhase(firstPhase(stepCircle(plantBean(calculateDistance(t,e))))))))}function plantBean(t){if(t<0)return;const e=10*t,o=100*t+200>700?700:100*t+200;return addStyle(plantingHand,"transform",`rotate(${e>50?50:e}deg)`),addStyle(plantingBean,"top",o+"px"),t-6}function stepCircle(t){if(t<0)return;const e=4-t;if(addStyle(plantingHand,"opacity",.25*e<=0?0:.25*e),t<4)return addStyle(plantingCircle,"display","none"),addStyle(plantingCircle,"opacity","0"),t-4;const o=t-4,n=.25*o>1?1:.25*o;return addStyle(plantingCircle,"display","flex"),addStyle(plantingCircle,"opacity",n),t-8}function firstPhase(t){if(!(t<0))return t>=3?(phaseBottomElements.forEach(t=>t.classList.add("step-1")),phaseTopElements.forEach(t=>t.classList.add("step-1"))):(phaseBottomElements.forEach(t=>t.classList.remove("step-1")),phaseTopElements.forEach(t=>t.classList.remove("step-1"))),t-3}function secondPhase(t){if(!(t<0)){if(t>=3){const e=.4*(t-3);addStyle(phaseSecondText,"opacity",e>=1?1:e),phaseBottomElements.forEach(t=>t.classList.add("step-2")),phaseTopElements.forEach(t=>t.classList.add("step-2"))}else addStyle(phaseSecondText,"opacity",0),phaseBottomElements.forEach(t=>t.classList.remove("step-2")),phaseTopElements.forEach(t=>t.classList.remove("step-2"));return t-3}}function thirdPhase(t){if(!(t<0))return t>=3?(phaseBottomElements.forEach(t=>t.classList.add("step-3")),phaseTopElements.forEach(t=>t.classList.add("step-3"))):(phaseBottomElements.forEach(t=>t.classList.remove("step-3")),phaseTopElements.forEach(t=>t.classList.remove("step-3"))),t-3}function fourthPhase(t){if(!(t<0)){if(t>=3){const e=.4*(t-3);addStyle(phaseThirdText,"opacity",e>=1?1:e),thirdTopPhase.classList.add("step-4"),thirdBottomPhase.classList.add("step-4")}else addStyle(phaseThirdText,"opacity",0),thirdTopPhase.classList.remove("step-4"),thirdBottomPhase.classList.remove("step-4");return t-2}}function fivePhase(t){if(!(t<0))return t>=3?thirdTopPhase.classList.add("step-5"):thirdTopPhase.classList.remove("step-5"),t-3}const growingArabica=document.querySelector("[data-growing-arabica]"),growingRobusta=document.querySelector("[data-growing-robusta]"),growingFirstMountains=document.querySelector("[data-growing-mountains-first]"),growingSecondMountains=document.querySelector("[data-growing-mountains-second]"),growingTropicText=document.querySelector("[data-growing-tropic-text]"),growingSubTropicText=document.querySelector("[data-growing-subtropic-text]");function growing({scrollTop:t,elOffsetTop:e}){const o=calculateDistance(t,e);showSecondMountains(showFirstMountains(o)),showArabica(o),showRobusta(o)}function showFirstMountains(t){const e=t/4*t;return addStyle(growingFirstMountains,"opacity",e>=1?1:e),showSubTropicText(t),t-4}function showSecondMountains(t){if(t<0)return;const e=t/4*t;addStyle(growingSecondMountains,"opacity",e>=1?1:e),showTropicText(t)}function showSubTropicText(t){const e=t/4*t;addStyle(growingSubTropicText,"opacity",e>=1?1:e)}function showTropicText(t){const e=t/4*t;addStyle(growingTropicText,"opacity",e>=1?1:e)}function showArabica(t){const e=52.5*t;addStyle(growingArabica,"bottom",(e>420?420:e)+"px")}function showRobusta(t){const e=30*t;addStyle(growingRobusta,"bottom",(e>240?240:e)+"px")}let windowHeight=window.innerHeight;const $planting=document.querySelector('[data-element="planting"]'),$growing=document.querySelector('[data-element="growing"]');document.addEventListener("DOMContentLoaded",()=>{setHeightSections(),document.addEventListener("scroll",scrollHandler)});const sections=[{el:$planting,steps:31,handler:planting},{el:$growing,steps:9,handler:growing}];function scrollHandler(t){const e=document.scrollingElement.scrollTop;sections.forEach(({el:t,handler:o})=>{const n=t.offsetHeight,s=t.offsetTop;e+300>s&&e-300<n+s&&o({scrollTop:e,elOffsetTop:s})})}function setHeightSections(){sections.forEach(({el:t,steps:e})=>{addStyle(t,"height",100*e+windowHeight+"px")})}